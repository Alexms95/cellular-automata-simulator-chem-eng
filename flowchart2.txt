graph TD
            A[Start] --> B[Initialize Simulation]
            B --> C[Configure Auxiliary Components]
            C --> D[Prepare Result Structures]
            D --> E[Iterate Simulation]
            E --> F[Check Rotation]
            F --> G[Process Reactions]
            G --> H[Process Movement]
            H --> I[Store Iteration Results]
            I --> J[Finalize Simulation]
            J --> K[End]

            %% Block Descriptions
            B:::block -->|Class: CellularAutomataCalculator| B_desc[Sets initial parameters like matrix, rotation, and probabilities]
            C:::block -->|Class: CellularAutomataCalculator| C_desc[Instantiates MovementAnalyzer, ReactionProcessor, and RotationManager]
            D:::block -->|Class: CellularAutomataCalculator| D_desc[Creates structures to store states and molar fractions]
            E:::block -->|Class: CellularAutomataCalculator| E_desc[Runs n_iter iterations for each cell in the matrix]
            F:::block -->|Class: CellularAutomataCalculator| F_desc[Processes rotation of components, if applicable]
            G:::block -->|Class: CellularAutomataCalculator| G_desc[Identifies and executes possible chemical reactions]
            H:::block -->|Class: CellularAutomataCalculator| H_desc[Analyzes and executes component movements]
            I:::block -->|Class: CellularAutomataCalculator| I_desc[Updates matrix and molar fraction table]
            J:::block -->|Class: CellularAutomataCalculator| J_desc[Returns final simulation results]

            %% Block Styling
            classDef block fill:#f9f,stroke:#333,stroke-width:2px;
        